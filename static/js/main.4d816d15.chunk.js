(this["webpackJsonpproximity-labs-aqi-test"]=this["webpackJsonpproximity-labs-aqi-test"]||[]).push([[0],{19:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return i}));var c="SET_HISTORY_DATA",i=function(t){return 0<=t&&t<=50?"green":51<=t&&t<=100?"light-green":101<=t&&t<=200?"yellow":201<=t&&t<=300?"orange":301<=t&&t<=400?"red":401<=t&&t<=500?"dark-red":""}},22:function(t,e,n){"use strict";n(31),n(25);var c=n(32);n.d(e,"store",(function(){return c.a}));n(33)},25:function(t,e,n){"use strict";var c=n(14),i=n(19),r={historyObject:{Delhi:[{city:"Delhi",aqi:303.9955573644944,timeStamp:23},{city:"Delhi",aqi:303.0473196100626,timeStamp:1111111}],Mumbai:[{city:"Mumbai",aqi:180.4532880409185,timeStamp:23433}],Bengaluru:[{city:"Bengaluru",aqi:90.23942071701057,timeStamp:2343223}]}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.a:return Object(c.a)(Object(c.a)({},t),{},{historyObject:e.payload});default:return Object(c.a)({},t)}}},31:function(t,e,n){"use strict";n(14),n(27),n(22),n(19)},32:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var c=n(41),i=n(25),r=Object(c.a)(i.a)},33:function(t,e){},46:function(t,e,n){},51:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},60:function(t,e,n){},61:function(t,e,n){},62:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n.n(c),r=n(24),a=n.n(r),s=(n(46),n(18)),u=n(14),o=n(40),j=n(23),b=n(34),l=n.n(b),d=n(35),h=n.n(d),O=(n(51),n(1)),f=function(){var t=Object(s.b)((function(t){return t.historyObject})),e=Object(c.useRef)(null),n=Object(c.useState)([]),i=Object(j.a)(n,2),r=i[0],a=i[1],b=Object(c.useState)([]),d=Object(j.a)(b,2),f=d[0],m=d[1];Object(c.useEffect)((function(){a(y())}),[t]),Object(c.useEffect)((function(){for(var e=[],n=0,c=Object.keys(t);n<c.length;n++){var i=c[n];e.push.apply(e,Object(o.a)(t[i].map((function(t){return t.timeStamp}))))}m(e)}),[]);var y=function(){var e={type:"line",color:"blue",dashStyle:"Solid",showInLegend:!0,marker:{radius:2}};return Object.keys(t).map((function(n){return Object(u.a)(Object(u.a)({},e),{},{name:n,data:t[n].map((function(t){return t.aqi}))})}))};return Object(O.jsx)("section",{className:"history-chart",children:Object(O.jsx)(h.a,{highcharts:l.a,options:{chart:{type:"line"},title:{text:"Cities with AQI history"},xAxis:{categories:f},yAxis:{title:{text:"AQI (Air quality index)"}},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!1}},series:r,credits:{enabled:!1}},ref:e})})},m=n(19),y=(n(53),function(t){var e=t.itm;return Object(O.jsxs)("tr",{className:"table-row",children:[Object(O.jsx)("td",{children:e.city}),Object(O.jsx)("td",{className:Object(m.b)(e.aqi),children:e.aqi}),Object(O.jsx)("td",{children:e.timeStamp})]})}),p=(n(54),["City","Current AQI","Last Updated"]),x=function(){var t=Object(s.b)((function(t){return t.historyObject})),e=Object.keys(t);return Object(O.jsx)("section",{className:"table",children:Object(O.jsxs)("table",{children:[Object(O.jsx)("thead",{children:Object(O.jsx)("tr",{children:p.map((function(t){return Object(O.jsx)("th",{children:t},t)}))})}),Object(O.jsx)("tbody",{children:e.map((function(e){var n=t[e].length-1,c=t[e][n];return Object(O.jsx)(y,{itm:c},"".concat(c.city,"-").concat(c.aqi))}))})]})})},v=n(39),g=(n(60),function(){var t=function(){var t=Object(c.useState)(),e=Object(j.a)(t,2),n=e[0],i=e[1];return Object(c.useEffect)((function(){var t=Object(v.a)("ws://city-ws.herokuapp.com",{transports:["websocket"]});return i(t),function(){return t.close()}}),[]),n}();return console.log(t),Object(O.jsxs)("div",{className:"home",children:[Object(O.jsx)("header",{children:Object(O.jsx)("h2",{children:"Live City wise AQI Chart (Air Quality Index)"})}),Object(O.jsxs)("main",{className:"body",children:[Object(O.jsx)(x,{}),Object(O.jsx)(f,{})]})]})}),S=n(22),q=(n(61),function(){return Object(O.jsx)(s.a,{store:S.store,children:Object(O.jsx)(g,{})})}),w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),c(t),i(t),r(t),a(t)}))};a.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(q,{})}),document.getElementById("root")),w()}},[[62,1,2]]]);
//# sourceMappingURL=main.4d816d15.chunk.js.map